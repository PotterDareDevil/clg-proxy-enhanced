<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLG Proxy</title>
    <link rel="icon" type="image/png" href="clg-bunny.png">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-E9DZ1KWKQT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-E9DZ1KWKQT');
    </script>
    
    <script src="/ixlmath/baremux/index.js"></script>
    <script src="/ixlmath/scram/scramjet.all.js"></script>
    <script>navigator.serviceWorker.register("/ixlmath/sw.js")</script>


    <style>
        :root {
            --bg-color: #0f1117;
            --bg-secondary: #1a1d29;
            --nav-bg: rgba(26, 29, 41, 0.85);
            --tab-active: #1a1d29;
            --tab-inactive: transparent;
            --accent: #00D9FF;
            --accent-glow: rgba(0, 217, 255, 0.3);
            --text: #f8fafc;
            --text-muted: #b3b3b3;
            --input-bg: #0f1117;
            --border: #2a2d39;
            --hover: #1e212d;
            --glass-bg: rgba(26, 29, 41, 0.6);
        }

        * {
            cursor: none !important;
        }

        /* Custom Cursor with trail glow */
.cursor-dot {
    position: fixed;
    width: 8px;
    height: 8px;
    background: var(--accent);
    border-radius: 50%;
    pointer-events: none;
    z-index: 999999;
    transform: translate(-50%, -50%);
    box-shadow: 0 0 15px var(--accent), 0 0 5px rgba(0, 217, 255, 0.5);
    transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                height 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                background 0.3s ease,
                box-shadow 0.3s ease,
                opacity 0.2s ease; 
}


        body, html {
            margin: 0; padding: 0; height: 100%;
            font-family: 'Space Grotesk', sans-serif;
            background: linear-gradient(135deg, #0f1117 0%, #1a1d29 50%, #0f1117 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            overflow: hidden; color: var(--text);
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        

        .cursor-dot.hover {
            width: 40px;
            height: 40px;
            background: rgba(0, 217, 255, 0.2);
            border: 2px solid var(--accent);
            box-shadow: 0 0 30px rgba(0, 217, 255, 0.8), 
                        0 0 15px rgba(0, 217, 255, 0.5),
                        inset 0 0 15px rgba(0, 217, 255, 0.3);
        }

        /* Cursor trail effect */
        .cursor-trail {
            position: fixed;
            width: 4px;
            height: 4px;
            background: var(--accent);
            border-radius: 50%;
            pointer-events: none;
            z-index: 999998;
            opacity: 0.6;
            animation: trailFade 0.5s ease-out forwards;
        }

        @keyframes trailFade {
            to {
                opacity: 0;
                transform: scale(2);
            }
        }

        /* Click ripple effect */
        .ripple {
            position: fixed;
            border: 2px solid var(--accent);
            border-radius: 50%;
            pointer-events: none;
            z-index: 999998;
            animation: rippleEffect 0.6s ease-out;
        }

        @keyframes rippleEffect {
            0% {
                width: 20px;
                height: 20px;
                opacity: 1;
            }
            100% {
                width: 100px;
                height: 100px;
                opacity: 0;
            }
        }

        @keyframes slideInRight {
    from {
        transform: translateX(400px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes fadeOut {
    to {
        opacity: 0;
        transform: translateY(-10px);
    }
}


        /* Floating particles background */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background-image: 
                radial-gradient(2px 2px at 20% 30%, rgba(0, 217, 255, 0.3), transparent),
                radial-gradient(2px 2px at 60% 70%, rgba(0, 217, 255, 0.2), transparent),
                radial-gradient(1px 1px at 50% 50%, rgba(0, 217, 255, 0.25), transparent),
                radial-gradient(1px 1px at 80% 10%, rgba(0, 217, 255, 0.2), transparent),
                radial-gradient(2px 2px at 90% 60%, rgba(0, 217, 255, 0.15), transparent),
                radial-gradient(1px 1px at 33% 80%, rgba(0, 217, 255, 0.2), transparent);
            background-size: 200% 200%;
            animation: particleFloat 20s ease-in-out infinite;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes particleFloat {
            0%, 100% { background-position: 0% 0%, 100% 100%, 50% 50%, 80% 20%, 20% 80%, 70% 30%; }
            50% { background-position: 100% 100%, 0% 0%, 25% 75%, 30% 70%, 90% 10%, 40% 60%; }
        }

        #loading-screen {
            position: fixed; inset: 0;
            background: var(--bg-color);
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            z-index: 99999; transition: opacity 0.5s ease;
        }
        .black-hole { 
            height: 100px; aspect-ratio: 1; background-color: black; border-radius: 50%; 
            box-shadow: 0px 0px 40px 10px var(--accent), inset 0px 0px 10px #ffffff88; 
            position: relative; animation: breathe 3s infinite ease-in-out;
        }

        /* Sound wave rings around loading */
        .black-hole::before,
        .black-hole::after {
            content: '';
            position: absolute;
            inset: -20px;
            border: 2px solid var(--accent);
            border-radius: 50%;
            opacity: 0;
            animation: soundWave 2s ease-out infinite;
        }

        .black-hole::after {
            animation-delay: 1s;
        }

        @keyframes soundWave {
            0% {
                transform: scale(0.8);
                opacity: 0.8;
            }
            100% {
                transform: scale(1.5);
                opacity: 0;
            }
        }

        @keyframes breathe { 
            0%, 100% { transform: scale(1); box-shadow: 0px 0px 40px 10px var(--accent); } 
            50% { transform: scale(1.05); box-shadow: 0px 0px 60px 20px var(--accent); } 
        }


        #top-ui { 
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1); 
            position: relative;
            z-index: 10;
            animation: slideDown 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

body.nav-hidden #top-ui { transform: translateY(-160px); }
body.nav-hidden .frame-container { top: 0 !important; }


        .tab-strip { 
            display: flex; align-items: flex-end; padding: 12px 15px 0 15px; 
            background: var(--bg-color); gap: 4px; height: 40px; 
        }
        .tab { 
            background: var(--tab-inactive); padding: 8px 12px; border-radius: 10px 10px 0 0; 
            font-size: 13px; min-width: 140px; max-width: 200px; color: var(--text-muted); 
            border: 1px solid transparent; border-bottom: none; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            position: relative; display: flex; align-items: center; gap: 8px;
        }
        .tab.active { 
            background: var(--tab-active); color: var(--text); border-color: var(--border);
            box-shadow: 0 -2px 15px rgba(0, 217, 255, 0.1);
        }
        .tab.active::after { 
            content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 2px; 
            background: linear-gradient(90deg, transparent, var(--accent), transparent); 
            box-shadow: 0 0 10px var(--accent);
            animation: shimmer 2s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .close-tab-btn {
            background: none; border: none; color: inherit; font-size: 16px;
            padding: 2px 6px; border-radius: 4px; line-height: 1;
            display: flex; align-items: center; justify-content: center; opacity: 0.5;
            transition: all 0.2s;
        }
        .close-tab-btn:hover { 
            background: rgba(255, 96, 92, 0.2); 
            color: #ff605c; opacity: 1;
            transform: rotate(90deg);
        }


        .navbar { 
            display: flex; align-items: center; height: 56px; 
            background: var(--glass-bg); 
            padding: 0 20px; gap: 16px; 
            border-bottom: 1px solid var(--border); 
            backdrop-filter: blur(25px) saturate(180%);
            -webkit-backdrop-filter: blur(25px) saturate(180%);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 217, 255, 0.1);
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-right: 10px;
            transition: transform 0.3s ease;
        }

        .logo-container:hover {
            transform: scale(1.05);
        }

        .logo-bunny {
            width: 32px;
            height: 32px;
            object-fit: contain;
            filter: drop-shadow(0 0 8px rgba(0, 217, 255, 0.5));
            animation: bunnyFloat 3s ease-in-out infinite;
            transition: transform 0.3s ease;
        }

        .logo-container:hover .logo-bunny {
            transform: translateY(-3px) rotate(10deg);
        }

        @keyframes bunnyFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }

        .logo-text {
            font-size: 20px;
            font-weight: 700;
            background: linear-gradient(135deg, #00D9FF 0%, #00a8cc 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 1px;
            animation: gradientText 3s ease infinite;
        }

        @keyframes gradientText {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .nav-buttons { display: flex; gap: 8px; }
        .nav-button { 
            width: 34px; height: 34px; border-radius: 8px;
            display: flex; align-items: center; justify-content: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            color: var(--text-muted); user-select: none;
            background: rgba(0, 217, 255, 0.05);
            border: 1px solid transparent;
            position: relative;
            overflow: hidden;
        }

        /* Magnetic button effect */
        .nav-button::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(0, 217, 255, 0.2), transparent 70%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .nav-button:hover::before {
            opacity: 1;
        }

        .nav-button:hover { 
            background: var(--hover); 
            color: var(--accent);
            border-color: var(--accent);
            box-shadow: 0 0 15px rgba(0, 217, 255, 0.3);
            transform: translateY(-3px) scale(1.05);
        }

        .nav-button:active {
            transform: translateY(-1px) scale(0.98);
        }


        .settings-icon-img { 
            width: 20px; height: 20px; object-fit: contain; 
            opacity: 0.7; transition: 0.3s; 
        }
        .nav-button:hover .settings-icon-img { 
            opacity: 1; 
            filter: drop-shadow(0 0 5px var(--accent));
            transform: rotate(90deg);
        }

        /* Pulsing notification dot on settings */
        .settings-notification {
            position: absolute;
            top: 6px;
            right: 6px;
            width: 6px;
            height: 6px;
            background: var(--accent);
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
            box-shadow: 0 0 8px var(--accent);
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.3);
                opacity: 0.7;
            }
        }


        .search-container { 
            flex-grow: 1; display: flex; align-items: center; 
            background: var(--glass-bg); 
            border-radius: 12px; padding: 0 16px; 
            border: 1px solid var(--border); height: 38px; 
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(15px) saturate(150%);
            -webkit-backdrop-filter: blur(15px) saturate(150%);
        }
        .search-container:focus-within { 
            border-color: var(--accent); 
            box-shadow: 0 0 0 3px var(--accent-glow), 0 0 20px rgba(0, 217, 255, 0.2);
            background: rgba(26, 29, 41, 0.8);
            transform: translateY(-2px);
        }
        input#bar { 
            flex-grow: 1; background: transparent; border: none; 
            color: white; padding: 8px; font-size: 14px; outline: none; 
            font-family: 'Space Grotesk', sans-serif;
        }
        input#bar::placeholder {
            color: var(--text-muted);
        }


        .frame-container { 
            position: absolute; top: 108px; left: 0; right: 0; bottom: 0; 
            background: #000; 
            transition: top 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 5;
        }
        iframe { width: 100%; height: 100%; border: none; display: none; }
        iframe.active { display: block; }


        .new-tab-screen { 
            position: absolute; inset: 0; 
            display: flex; align-items: center; justify-content: center; 
            background: linear-gradient(135deg, #0f1117 0%, #1a1d29 100%);
            color: #fff; flex-direction: column; z-index: 5; 
        }
        .new-tab-content {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            animation: fadeInUp 0.8s ease-out;
        }

        /* Bookmarks Bar */
.bookmarks-bar {
    background: var(--bg-color);
    border-bottom: 1px solid var(--border);
    padding: 8px 20px;
    display: flex;
    gap: 8px;
    overflow-x: auto;
    overflow-y: hidden;
    white-space: nowrap;
    z-index: 9;
    position: relative;
}

.bookmarks-bar::-webkit-scrollbar {
    height: 4px;
}

.bookmarks-bar::-webkit-scrollbar-track {
    background: var(--bg-color);
}

.bookmarks-bar::-webkit-scrollbar-thumb {
    background: var(--accent);
    border-radius: 2px;
}

.bookmark-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    background: rgba(0, 217, 255, 0.05);
    border: 1px solid var(--border);
    border-radius: 8px;
    color: var(--text);
    font-size: 12px;
    transition: all 0.3s;
    flex-shrink: 0;
}

.bookmark-item:hover {
    background: rgba(0, 217, 255, 0.1);
    border-color: var(--accent);
    transform: translateY(-2px);
}

.bookmark-item .favicon {
    width: 16px;
    height: 16px;
    border-radius: 3px;
}

.bookmark-delete {
    margin-left: 4px;
    opacity: 0;
    transition: opacity 0.2s;
    color: #ff605c;
    font-size: 14px;
}

.bookmark-item:hover .bookmark-delete {
    opacity: 1;
}

.add-bookmark-btn {
    display: flex;
    align-items: center;
    padding: 6px 12px;
    background: rgba(0, 217, 255, 0.1);
    border: 1px solid var(--accent);
    border-radius: 8px;
    color: var(--accent);
    font-size: 12px;
    transition: all 0.3s;
    flex-shrink: 0;
}

.add-bookmark-btn:hover {
    background: rgba(0, 217, 255, 0.2);
    transform: translateY(-2px);
}

        /* History Panel */
.history-panel {
    position: fixed;
    right: -350px;
    top: 0;
    bottom: 0;
    width: 350px;
    background: var(--glass-bg);
    backdrop-filter: blur(30px) saturate(180%);
    border-left: 1px solid var(--border);
    z-index: 100001;
    transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
    box-shadow: -4px 0 20px rgba(0, 0, 0, 0.5);
}

.history-panel.open {
    right: 0;
}

.history-header {
    padding: 20px;
    border-bottom: 1px solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.history-header h2 {
    margin: 0;
    color: var(--accent);
    font-size: 18px;
    letter-spacing: 2px;
    text-transform: uppercase;
}

.history-close {
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 24px;
    padding: 0;
    width: 30px;
    height: 30px;
    border-radius: 6px;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.history-close:hover {
    background: rgba(255, 96, 92, 0.2);
    color: #ff605c;
    transform: rotate(90deg);
}

.history-content {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
}

.history-content::-webkit-scrollbar {
    width: 6px;
}

.history-content::-webkit-scrollbar-track {
    background: var(--bg-color);
}

.history-content::-webkit-scrollbar-thumb {
    background: var(--accent);
    border-radius: 3px;
}

.history-item {
    padding: 12px;
    margin: 5px 0;
    background: rgba(0, 217, 255, 0.05);
    border: 1px solid var(--border);
    border-radius: 8px;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 10px;
}

.history-item:hover {
    background: rgba(0, 217, 255, 0.1);
    border-color: var(--accent);
    transform: translateX(-5px);
}

.history-item .favicon {
    width: 20px;
    height: 20px;
    border-radius: 4px;
    flex-shrink: 0;
}

.history-item .info {
    flex: 1;
    min-width: 0;
}

.history-item .title {
    color: var(--text);
    font-size: 13px;
    font-weight: 500;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.history-item .url {
    color: var(--text-muted);
    font-size: 11px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.history-item .time {
    color: var(--text-muted);
    font-size: 10px;
    flex-shrink: 0;
}

.history-actions {
    padding: 15px 20px;
    border-top: 1px solid var(--border);
    display: flex;
    gap: 10px;
}

.history-btn {
    flex: 1;
    padding: 10px;
    background: rgba(0, 217, 255, 0.1);
    border: 1px solid var(--accent);
    border-radius: 8px;
    color: var(--accent);
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-weight: 600;
    transition: all 0.3s;
}

.history-btn:hover {
    background: rgba(0, 217, 255, 0.2);
    transform: translateY(-2px);
}

.history-btn.danger {
    border-color: #ff605c;
    color: #ff605c;
    background: rgba(255, 96, 92, 0.1);
}

.history-btn.danger:hover {
    background: rgba(255, 96, 92, 0.2);
}

.history-empty {
    text-align: center;
    padding: 40px 20px;
    color: var(--text-muted);
    font-size: 13px;
}

/* Tab Dragging */
.tab.dragging {
    opacity: 0.5;
    transform: scale(0.95);
}

.tab.drag-over {
    border-left: 2px solid var(--accent);
}

        /* Loading Progress Bar */
.progress-bar {
    position: fixed;
    top: 0;
    left: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--accent), #00a8cc);
    z-index: 999999;
    width: 0%;
    transition: width 0.3s ease, opacity 0.3s ease;
    box-shadow: 0 0 10px var(--accent);
    opacity: 0;
}

.progress-bar.loading {
    opacity: 1;
}

/* Tab Preview on Hover */
.tab-preview {
    position: fixed;
    width: 300px;
    height: 200px;
    background: var(--glass-bg);
    border: 1px solid var(--accent);
    border-radius: 10px;
    padding: 10px;
    z-index: 100002;
    pointer-events: none;
    opacity: 0;
    transform: translateY(-10px);
    transition: opacity 0.3s ease, transform 0.3s ease;
    box-shadow: 0 10px 40px rgba(0, 217, 255, 0.4);
    backdrop-filter: blur(20px);
}

.tab-preview.show {
    opacity: 1;
    transform: translateY(0);
}

.tab-preview-title {
    color: var(--text);
    font-size: 13px;
    font-weight: 600;
    margin-bottom: 8px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.tab-preview-url {
    color: var(--text-muted);
    font-size: 11px;
    margin-bottom: 10px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.tab-preview-thumb {
    width: 100%;
    height: 150px;
    background: var(--bg-color);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    font-size: 12px;
    border: 1px solid var(--border);
}

/* Keyboard Shortcuts Panel */
.shortcuts-panel {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(10px);
    z-index: 100003;
    display: none;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.3s ease;
}

.shortcuts-panel.show {
    display: flex;
}

.shortcuts-content {
    background: var(--glass-bg);
    padding: 40px;
    border-radius: 20px;
    border: 1px solid rgba(0, 217, 255, 0.3);
    max-width: 600px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    backdrop-filter: blur(30px) saturate(180%);
    box-shadow: 0 20px 60px rgba(0, 217, 255, 0.3);
}

.shortcuts-content h2 {
    margin: 0 0 25px 0;
    color: var(--accent);
    font-size: 24px;
    letter-spacing: 2px;
    text-transform: uppercase;
    text-align: center;
}

.shortcut-section {
    margin-bottom: 25px;
}

.shortcut-section h3 {
    color: var(--text);
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin: 0 0 12px 0;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border);
}

.shortcut-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    color: var(--text-muted);
    font-size: 13px;
}

.shortcut-keys {
    display: flex;
    gap: 5px;
}

.key {
    background: rgba(0, 217, 255, 0.1);
    border: 1px solid var(--accent);
    padding: 4px 10px;
    border-radius: 6px;
    color: var(--accent);
    font-size: 11px;
    font-weight: 600;
    font-family: 'Courier New', monospace;
}

.shortcuts-close {
    text-align: center;
    margin-top: 20px;
    color: var(--text-muted);
    font-size: 12px;
}

/* Homepage Widgets */
.widget-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 800px;
}

.widget-row {
    display: flex;
    gap: 20px;
    margin-top: 40px;
    flex-wrap: wrap;
    justify-content: center;
}

.widget {
    background: var(--glass-bg);
    border: 1px solid var(--border);
    border-radius: 15px;
    padding: 20px;
    backdrop-filter: blur(20px);
    transition: all 0.3s;
    flex: 1;
    min-width: 200px;
    max-width: 250px;
}

.widget:hover {
    border-color: var(--accent);
    box-shadow: 0 0 20px rgba(0, 217, 255, 0.3);
    transform: translateY(-5px);
}

.widget-title {
    color: var(--accent);
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 15px;
    font-weight: 600;
}

.clock-widget {
    text-align: center;
}

.clock-time {
    font-size: 48px;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 5px;
    font-family: 'Courier New', monospace;
}

.clock-date {
    color: var(--text-muted);
    font-size: 14px;
}

.quick-links-widget {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.quick-link {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    background: rgba(0, 217, 255, 0.05);
    border-radius: 8px;
    color: var(--text);
    font-size: 13px;
    transition: all 0.3s;
    text-decoration: none;
}

.quick-link:hover {
    background: rgba(0, 217, 255, 0.15);
    transform: translateX(5px);
}

.search-widget-input {
    width: 100%;
    background: rgba(0, 217, 255, 0.05);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 12px;
    color: var(--text);
    font-size: 14px;
    outline: none;
    transition: all 0.3s;
    box-sizing: border-box;
}

.search-widget-input:focus {
    border-color: var(--accent);
    box-shadow: 0 0 15px rgba(0, 217, 255, 0.3);
}


        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .new-tab-content img {
            width: 120px;
            height: 120px;
            object-fit: contain;
            filter: drop-shadow(0 0 30px rgba(0, 217, 255, 0.6));
            animation: logoFloat 4s ease-in-out infinite;
        }
        @keyframes logoFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }
        .new-tab-content h1 { 
            font-size: 56px; font-weight: 700; 
            background: linear-gradient(135deg, #00D9FF 0%, #ffffff 100%); 
            background-size: 200% 200%;
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0;
            letter-spacing: 2px;
            animation: gradientText 3s ease infinite;
        }
        .new-tab-content p {
            color: var(--text-muted); 
            letter-spacing: 3px; 
            font-size: 11px;
            text-transform: uppercase;
            margin: 5px 0 0 0;
        }


        /* Login System Styles */
.login-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.95);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 999999;
    backdrop-filter: blur(15px);
}

.login-box {
    background: var(--glass-bg);
    padding: 40px;
    border-radius: 20px;
    border: 1px solid rgba(0, 217, 255, 0.3);
    width: 400px;
    box-shadow: 0 20px 60px rgba(0, 217, 255, 0.3);
    backdrop-filter: blur(30px) saturate(180%);
    text-align: center;
    animation: modalSlideIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.login-box h1 {
    color: var(--accent);
    font-size: 32px;
    margin: 0 0 10px 0;
    letter-spacing: 2px;
}

.login-box p {
    color: var(--text-muted);
    font-size: 12px;
    margin: 0 0 30px 0;
    letter-spacing: 1px;
}

.login-input {
    width: 100%;
    background: rgba(15, 17, 23, 0.8);
    border: 1px solid var(--border);
    border-radius: 10px;
    color: white;
    padding: 12px;
    font-size: 14px;
    outline: none;
    font-family: 'Space Grotesk', sans-serif;
    margin-bottom: 15px;
    box-sizing: border-box;
    transition: all 0.3s;
}

.login-input:focus {
    border-color: var(--accent);
    box-shadow: 0 0 15px rgba(0, 217, 255, 0.3);
}

.login-btn {
    width: 100%;
    background: linear-gradient(135deg, var(--accent) 0%, #00a8cc 100%);
    color: #0f1117;
    border: none;
    border-radius: 10px;
    padding: 15px;
    font-size: 14px;
    font-weight: 600;
    font-family: 'Space Grotesk', sans-serif;
    letter-spacing: 1px;
    text-transform: uppercase;
    box-shadow: 0 6px 25px rgba(0, 217, 255, 0.5);
    transition: all 0.3s;
}

.login-btn:hover {
    box-shadow: 0 8px 35px rgba(0, 217, 255, 0.7);
    transform: translateY(-2px);
}

.login-error {
    color: #ff605c;
    font-size: 12px;
    margin-top: 15px;
    display: none;
}


        
        .modal-overlay { 
            position: fixed; inset: 0; 
            background: rgba(0,0,0,0.85); 
            display: none; align-items: center; justify-content: center; 
            z-index: 100000; 
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        .modal-overlay.show { 
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content { 
            background: var(--glass-bg); 
            padding: 35px; border-radius: 20px; 
            border: 1px solid rgba(0, 217, 255, 0.3); 
            width: 440px; 
            box-shadow: 0 20px 60px rgba(0, 217, 255, 0.25), 
                        0 0 40px rgba(0, 217, 255, 0.15),
                        inset 0 1px 1px rgba(255, 255, 255, 0.1);
            text-align: center;
            backdrop-filter: blur(30px) saturate(180%);
            -webkit-backdrop-filter: blur(30px) saturate(180%);
            position: relative;
            animation: modalSlideIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes modalSlideIn {
            from {
                transform: scale(0.8) translateY(-50px);
                opacity: 0;
            }
            to {
                transform: scale(1) translateY(0);
                opacity: 1;
            }
        }

        .modal-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(0, 217, 255, 0.5), transparent);
        }

        
        
        .setting-btn {
            width: 100%; padding: 13px; margin: 5px 0; border-radius: 12px; 
            border: 1px solid var(--border);
            background: rgba(30, 33, 45, 0.6);
            backdrop-filter: blur(10px);
            color: var(--text); font-weight: 500; 
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex; align-items: center; justify-content: center; 
            text-transform: uppercase; letter-spacing: 1px; font-size: 10px;
            position: relative;
            font-family: 'Space Grotesk', sans-serif;
        }
        .setting-btn:hover { 
            border-color: var(--accent); 
            background: rgba(0, 217, 255, 0.1); 
            color: var(--accent);
            box-shadow: 0 0 20px rgba(0, 217, 255, 0.2);
            transform: translateY(-2px) scale(1.02);
        }

        .setting-btn:active {
            transform: translateY(0) scale(0.98);
        }

        .setting-btn.active-wisp { 
            border-color: var(--accent); 
            background: var(--accent-glow); 
            color: white;
            box-shadow: 0 0 25px rgba(0, 217, 255, 0.4), inset 0 0 20px rgba(0, 217, 255, 0.2);
        }
        .setting-btn.primary { 
            background: linear-gradient(135deg, var(--accent) 0%, #00a8cc 100%); 
            background-size: 200% 200%;
            color: #0f1117; 
            border: none; 
            font-size: 12px; 
            padding: 15px;
            font-weight: 600;
            box-shadow: 0 6px 25px rgba(0, 217, 255, 0.5);
            animation: gradientShift 3s ease infinite;
        }
        .setting-btn.primary:hover {
            box-shadow: 0 8px 35px rgba(0, 217, 255, 0.7);
            transform: translateY(-3px) scale(1.02);
        }


        .ping-tag { 
            position: absolute; right: 10px; font-size: 8px; opacity: 0.6;
            padding: 2px 6px;
            background: rgba(0, 217, 255, 0.1);
            border-radius: 4px;
        }


        .btn-row { display: flex; gap: 8px; }
        .btn-row .setting-btn { flex: 1; }


        .custom-wisp-box { display: flex; gap: 5px; margin-top: 8px; }
        .custom-wisp-input { 
            flex: 1; 
            background: rgba(15, 17, 23, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border); border-radius: 10px; 
            color: white; padding: 10px; font-size: 11px; outline: none;
            font-family: 'Space Grotesk', sans-serif;
            transition: all 0.3s;
        }
        .custom-wisp-input:focus { 
            border-color: var(--accent);
            box-shadow: 0 0 15px rgba(0, 217, 255, 0.3);
            transform: translateY(-1px);
        }


        .section-label { 
            color: var(--text-muted); font-size: 10px; 
            text-transform: uppercase; letter-spacing: 2px; 
            margin: 20px 0 8px 0; display: block;
            font-weight: 600;
        }

        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--glass-bg);
            backdrop-filter: blur(25px) saturate(180%);
            -webkit-backdrop-filter: blur(25px) saturate(180%);
            border-top: 1px solid var(--border);
            padding: 12px 20px;
            text-align: center;
            font-size: 11px;
            color: var(--text-muted);
            z-index: 10;
            letter-spacing: 1px;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s backwards;
        }

        @keyframes slideUp {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        footer a {
            color: var(--accent);
            text-decoration: none;
            transition: 0.2s;
            position: relative;
        }

        footer a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--accent);
            transition: width 0.3s ease;
        }

        footer a:hover::after {
            width: 100%;
        }

        footer a:hover {
            text-shadow: 0 0 10px var(--accent);
        }

        /* Mobile/Touch devices - show default cursor */
        @media (hover: none) and (pointer: coarse) {
            * {
                cursor: auto !important;
            }
            .cursor-dot {
                display: none !important;
            }
        }
/* Theme System */
body.theme-purple {
    --accent: #a855f7;
    --accent-glow: rgba(168, 85, 247, 0.3);
}

body.theme-red {
    --accent: #ef4444;
    --accent-glow: rgba(239, 68, 68, 0.3);
}

body.theme-green {
    --accent: #10b981;
    --accent-glow: rgba(16, 185, 129, 0.3);
}

/* Panic Screen */
.panic-screen {
    position: fixed;
    inset: 0;
    background: white;
    z-index: 9999999;
    display: none;
}

.panic-screen.active {
    display: block;
}

.panic-screen iframe {
    width: 100%;
    height: 100%;
    border: none;
}

        
    </style>
</head>
<body>

     <!-- Panic Screen -->
    <div class="panic-screen" id="panic-screen">
        <iframe src="https://classroom.google.com"></iframe>
    </div>
    
    <!-- Login System -->
    <div class="login-overlay" id="login-overlay">
        <div class="login-box">
            <img src="clg-bunny.png" alt="CLG" style="width: 80px; margin-bottom: 20px; filter: drop-shadow(0 0 20px rgba(0, 217, 255, 0.6));">
            <h1>CLG ACCESS</h1>
            <p>Enter credentials to continue</p>
            <input type="text" id="login-name" class="login-input" placeholder="Your Name" autocomplete="off">
            <input type="password" id="login-password" class="login-input" placeholder="Password" autocomplete="off">
            <button class="login-btn" onclick="checkLogin()">ACCESS PROXY</button>
            <div class="login-error" id="login-error">Invalid credentials. Try again.</div>
        </div>
    </div>
    
    <!-- Custom Cursor -->
    <div class="cursor-dot"></div>

    <div id="loading-screen"><div class="black-hole"></div></div>

    <!-- Loading Progress Bar -->
<div class="progress-bar" id="progress-bar"></div>

<!-- Tab Preview -->
<div class="tab-preview" id="tab-preview">
    <div class="tab-preview-title" id="preview-title">Loading...</div>
    <div class="tab-preview-url" id="preview-url">https://example.com</div>
    <div class="tab-preview-thumb">
        <span>Preview unavailable</span>
    </div>
</div>

<!-- Keyboard Shortcuts Panel -->
<div class="shortcuts-panel" id="shortcuts-panel" onclick="hideShortcuts()">
    <div class="shortcuts-content" onclick="event.stopPropagation()">
        <h2>‚å®Ô∏è Keyboard Shortcuts</h2>
        
        <div class="shortcut-section">
            <h3>Navigation</h3>
            <div class="shortcut-item">
                <span>Hide/Show Navigation</span>
                <div class="shortcut-keys"><span class="key">Ctrl</span><span class="key">K</span></div>
            </div>
            <div class="shortcut-item">
                <span>Toggle Custom Cursor</span>
                <div class="shortcut-keys"><span class="key">Ctrl</span><span class="key">C</span></div>
            </div>
            <div class="shortcut-item">
                <span>Panic Mode (Google Classroom)</span>
                <div class="shortcut-keys"><span class="key">Alt</span><span class="key">X</span></div>
            </div>
            <div class="shortcut-item">
                <span>Fullscreen Toggle</span>
                <div class="shortcut-keys"><span class="key">F11</span></div>
            </div>
        </div>

        <div class="shortcut-section">
            <h3>Tabs</h3>
            <div class="shortcut-item">
                <span>New Tab</span>
                <div class="shortcut-keys"><span class="key">Ctrl</span><span class="key">T</span></div>
            </div>
            <div class="shortcut-item">
                <span>Close Current Tab</span>
                <div class="shortcut-keys"><span class="key">Ctrl</span><span class="key">W</span></div>
            </div>
            <div class="shortcut-item">
                <span>Reload Page</span>
                <div class="shortcut-keys"><span class="key">Ctrl</span><span class="key">R</span></div>
            </div>
        </div>

        <div class="shortcut-section">
            <h3>Tools</h3>
            <div class="shortcut-item">
                <span>Show Shortcuts (This Panel)</span>
                <div class="shortcut-keys"><span class="key">?</span></div>
            </div>
            <div class="shortcut-item">
                <span>Focus Search Bar</span>
                <div class="shortcut-keys"><span class="key">Ctrl</span><span class="key">L</span></div>
            </div>
        </div>

        <div class="shortcuts-close">
            Press <span class="key">Esc</span> or click outside to close
        </div>
    </div>
</div>

    <div id="top-ui">
        <div class="tab-strip" id="tab-strip">
            <div class="nav-button" onclick="createNewTab()" style="font-size: 24px;">+</div>
        </div>


       <nav class="navbar">
    <div class="logo-container">
        <img src="clg-bunny.png" alt="CLG" class="logo-bunny">
        <span class="logo-text">CLG</span>
    </div>
    <div class="nav-buttons">
        <div class="nav-button magnetic-btn" onclick="goBack()">‚Üê</div>
        <div class="nav-button magnetic-btn" onclick="goForward()">‚Üí</div>
        <div class="nav-button magnetic-btn" onclick="reloadPage()">‚Üª</div>
    </div>
    <div class="search-container">
        <input type="text" placeholder="Search with Brave or enter URL" id="bar" autocomplete="off">
    </div>
    <div class="nav-buttons">
         <!-- HISTORY BUTTON -->
    <div class="nav-button magnetic-btn" onclick="toggleHistory()" style="position: relative;">
        üìú
    </div>
        <!-- ADD THIS GAMES BUTTON HERE: -->
        <div class="nav-button magnetic-btn" onclick="showGames()" style="position: relative;">
            üéÆ
        </div>
        <!-- EXISTING SETTINGS BUTTON: -->
        <div class="nav-button magnetic-btn" onclick="showSettings()" style="position: relative;">
            <img src="settingsicon.png" class="settings-icon-img" alt="Settings">
            <div class="settings-notification"></div>
        </div>
        <div class="nav-button magnetic-btn" onclick="toggleFullScreen()">‚õ∂</div>
    </div>
</nav>

  <!-- Bookmarks Bar -->
    <div class="bookmarks-bar" id="bookmarks-bar">
        <div class="add-bookmark-btn" onclick="addCurrentBookmark()">+ Add Bookmark</div>
    </div>

</div>  <!-- Close #top-ui -->

    
    <div class="frame-container" id="frame-container">
    <div id="new-tab-ui" class="new-tab-screen">
    <div class="widget-container">
        <div class="new-tab-content">
            <img src="clg-bunny.png" alt="Clifford">
            <h1>CLG Proxy</h1>
            <p>chunglloyd.xyc</p>
        </div>
        
        <div class="widget-row">
            <div class="widget clock-widget">
                <div class="widget-title">Clock</div>
                <div class="clock-time" id="clock-time">00:00</div>
                <div class="clock-date" id="clock-date">Loading...</div>
            </div>
            
            <div class="widget">
                <div class="widget-title">Quick Search</div>
                <input type="text" class="search-widget-input" placeholder="Search anything..." onkeydown="if(event.key==='Enter') quickSearch(this.value)">
            </div>
        </div>
        
        <div class="widget-row">
            <div class="widget quick-links-widget">
                <div class="widget-title">Quick Links</div>
                <a href="#" class="quick-link" onclick="event.preventDefault(); quickNav('https://youtube.com')">üì∫ YouTube</a>
                <a href="#" class="quick-link" onclick="event.preventDefault(); quickNav('https://discord.com')">üí¨ Discord</a>
                <a href="#" class="quick-link" onclick="event.preventDefault(); quickNav('https://reddit.com')">üî• Reddit</a>
                <a href="#" class="quick-link" onclick="event.preventDefault(); quickNav('https://github.com')">üíª GitHub</a>
            </div>
        </div>
    </div>
</div>
</div>  <!-- Close frame-container -->


    <footer>
        ¬© 2026 <a href="https://chunglloyd.xyc" target="_blank">chunglloyd.xyc</a> | CLG Proxy
    </footer>

<!-- History Panel -->
<div class="history-panel" id="history-panel">
    <div class="history-header">
        <h2>History</h2>
        <button class="history-close" onclick="toggleHistory()">√ó</button>
    </div>
    <div class="history-content" id="history-content">
        <div class="history-empty">No browsing history yet</div>
    </div>
    <div class="history-actions">
        <button class="history-btn danger" onclick="clearHistory()">Clear All</button>
    </div>
</div>

        <div class="modal-content" onclick="event.stopPropagation()">
            <h2 style="margin-top:0; color: var(--accent); letter-spacing: 2px; font-size: 18px; text-transform: uppercase;">Settings</h2>
            
            <span class="section-label">General</span>
<button class="setting-btn primary" onclick="openAboutBlank()">Open in About:Blank</button>
<button class="setting-btn" onclick="hideNavbar()">Hide Navigation Bar</button>

<span class="section-label">Themes</span>
<div class="btn-row">
    <button class="setting-btn" onclick="setTheme('cyan')" style="border-color: #00D9FF;">Cyan</button>
    <button class="setting-btn" onclick="setTheme('purple')" style="border-color: #a855f7;">Purple</button>
</div>
<div class="btn-row">
    <button class="setting-btn" onclick="setTheme('red')" style="border-color: #ef4444;">Red</button>
    <button class="setting-btn" onclick="setTheme('green')" style="border-color: #10b981;">Green</button>
</div>

<span class="section-label">Wisp Servers</span>

            <div style="display: flex; flex-direction: column; gap: 0;">
                <button id="wisp-main" class="setting-btn active-wisp" onclick="setWisp('main')">
                    Main Server <span class="ping-tag" id="ping-main">--ms</span>
                </button>
                <div class="btn-row">
                    <button id="wisp-backup2" class="setting-btn" onclick="setWisp('backup2')">
                        Backup 2 <span class="ping-tag" id="ping-backup2">--ms</span>
                    </button>
                    <button id="wisp-backup3" class="setting-btn" onclick="setWisp('backup3')">
                        Backup 3 <span class="ping-tag" id="ping-backup3">--ms</span>
                    </button>
                </div>
                <div class="btn-row">
                    <button id="wisp-backup4" class="setting-btn" onclick="setWisp('backup4')">
                        Backup 4 <span class="ping-tag" id="ping-backup4">--ms</span>
                    </button>
                    <button id="wisp-backup5" class="setting-btn" onclick="setWisp('backup5')">
                        Backup 5 <span class="ping-tag" id="ping-backup5">--ms</span>
                    </button>
                </div>
                <div class="btn-row">
                    <button id="wisp-backup6" class="setting-btn" onclick="setWisp('backup6')">
                        Backup 6 <span class="ping-tag" id="ping-backup6">--ms</span>
                    </button>
                    <button id="wisp-backup7" class="setting-btn" onclick="setWisp('backup7')">
                        Backup 7 <span class="ping-tag" id="ping-backup7">--ms</span>
                    </button>
                </div>
                <div class="btn-row">
                    <button id="wisp-backup8" class="setting-btn" onclick="setWisp('backup8')">
                        Backup 8 <span class="ping-tag" id="ping-backup8">--ms</span>
                    </button>
                </div>
                
                <div class="custom-wisp-box">
                    <input type="text" id="custom-wisp-url" class="custom-wisp-input" placeholder="wss://your-wisp-server/wisp/">
                    <button class="setting-btn" style="margin:0; width: auto; padding: 0 15px;" onclick="setCustomWisp()">Use</button>
                </div>
            </div>


            <button class="setting-btn" onclick="hideSettings()" style="margin-top: 20px; border: none; background: transparent; opacity: 0.6; text-transform: none; letter-spacing: 0;">
                Close
            </button>
        </div>
    </div>
<div class="modal-overlay" id="games-modal" onclick="hideGames()">
    <div class="modal-content" onclick="event.stopPropagation()">
        <h2 style="margin-top:0; color: var(--accent); letter-spacing: 2px; font-size: 18px; text-transform: uppercase;">Games</h2>
        
        <span class="section-label">Browser Games</span>
        <div style="display: flex; flex-direction: column; gap: 8px;">
            <button class="setting-btn" onclick="openGame('https://nzp.gay')">
                üßü COD Zombies (NZP)
            </button>
            <button class="setting-btn" onclick="openGame('https://krunker.io')">
                üî´ Krunker.io
            </button>
            <button class="setting-btn" onclick="openGame('https://1v1.lol')">
                üèóÔ∏è 1v1.LOL
            </button>
            <button class="setting-btn" onclick="openGame('https://shellshock.io')">
                ü•ö Shell Shockers
            </button>
            <button class="setting-btn" onclick="openGame('https://retrobowl.me')">
                üèà Retro Bowl
            </button>
        </div>

        <button class="setting-btn" onclick="hideGames()" style="margin-top: 20px; border: none; background: transparent; opacity: 0.6; text-transform: none; letter-spacing: 0;">
            Close
        </button>
    </div>
</div>

        <script>
        
            // Bookmarks System
let bookmarks = JSON.parse(localStorage.getItem('clg-bookmarks') || '[]');

function loadBookmarks() {
    const bar = document.getElementById('bookmarks-bar');
    const addBtn = bar.querySelector('.add-bookmark-btn');
    
    // Clear existing bookmarks
    bar.querySelectorAll('.bookmark-item').forEach(b => b.remove());
    
    bookmarks.forEach((bookmark, index) => {
        const item = document.createElement('div');
        item.className = 'bookmark-item';
        item.innerHTML = `
            <img class="favicon" src="https://www.google.com/s2/favicons?domain=${bookmark.url}&sz=32" onerror="this.style.display='none'">
            <span>${bookmark.name}</span>
            <span class="bookmark-delete" onclick="deleteBookmark(${index})">√ó</span>
        `;
        item.onclick = (e) => {
            if (!e.target.classList.contains('bookmark-delete')) {
                openBookmark(bookmark.url);
            }
        };
        bar.insertBefore(item, addBtn);
    });
}

function addCurrentBookmark() {
    const tab = tabs.find(t => t.id === activeTabId);
    if (!tab || !tab.url) {
        showNotification('Navigate to a site first!');
        return;
    }
    
    const name = prompt('Bookmark name:', tab.title);
    if (!name) return;
    
    bookmarks.push({ name, url: tab.url });
    localStorage.setItem('clg-bookmarks', JSON.stringify(bookmarks));
    loadBookmarks();
    showNotification('Bookmark added! üîñ');
}

function openBookmark(url) {
    document.getElementById('bar').value = url;
    nav();
}

function deleteBookmark(index) {
    event.stopPropagation();
    bookmarks.splice(index, 1);
    localStorage.setItem('clg-bookmarks', JSON.stringify(bookmarks));
    loadBookmarks();
    showNotification('Bookmark removed');
}

// Theme System
let currentTheme = localStorage.getItem('clg-theme') || 'cyan';

function setTheme(theme) {
    document.body.className = document.body.className.replace(/theme-\w+/g, '');
    if (theme !== 'cyan') {
        document.body.classList.add(`theme-${theme}`);
    }
    currentTheme = theme;
    localStorage.setItem('clg-theme', theme);
    showNotification(`Theme: ${theme.toUpperCase()}`);
}

// Load saved theme
if (currentTheme !== 'cyan') {
    document.body.classList.add(`theme-${currentTheme}`);
}

// Panic Button (Alt + X)
let panicActive = false;

document.addEventListener('keydown', (e) => {
    if (e.altKey && e.key === 'x') {
        e.preventDefault();
        panicActive = !panicActive;
        document.getElementById('panic-screen').classList.toggle('active', panicActive);
    }
});

            // History System
let browsingHistory = JSON.parse(localStorage.getItem('clg-history') || '[]');

function addToHistory(url, title) {
    if (!url || url === '') return;
    
    const entry = {
        url,
        title,
        timestamp: Date.now()
    };
    
    // Remove duplicates
    browsingHistory = browsingHistory.filter(h => h.url !== url);
    
    // Add to beginning
    browsingHistory.unshift(entry);
    
    // Keep only last 100 entries
    if (browsingHistory.length > 100) {
        browsingHistory = browsingHistory.slice(0, 100);
    }
    
    localStorage.setItem('clg-history', JSON.stringify(browsingHistory));
    renderHistory();
}

function renderHistory() {
    const content = document.getElementById('history-content');
    
    if (browsingHistory.length === 0) {
        content.innerHTML = '<div class="history-empty">No browsing history yet</div>';
        return;
    }
    
    content.innerHTML = browsingHistory.map(entry => {
        const date = new Date(entry.timestamp);
        const timeStr = date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
        const dateStr = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
        
        return `
            <div class="history-item" onclick="openFromHistory('${entry.url.replace(/'/g, "\\'")}')">
                <img class="favicon" src="https://www.google.com/s2/favicons?domain=${entry.url}&sz=32" onerror="this.style.display='none'">
                <div class="info">
                    <div class="title">${entry.title}</div>
                    <div class="url">${entry.url}</div>
                </div>
                <div class="time">${timeStr}<br>${dateStr}</div>
            </div>
        `;
    }).join('');
}

function openFromHistory(url) {
    document.getElementById('bar').value = url;
    nav();
    toggleHistory();
}

function clearHistory() {
    if (!confirm('Clear all browsing history?')) return;
    browsingHistory = [];
    localStorage.setItem('clg-history', JSON.stringify(browsingHistory));
    renderHistory();
    showNotification('History cleared');
}

function toggleHistory() {
    const panel = document.getElementById('history-panel');
    panel.classList.toggle('open');
    if (panel.classList.contains('open')) {
        renderHistory();
    }
}

// Tab Persistence
function saveTabs() {
    const tabData = tabs.map(tab => ({
        url: tab.url,
        title: tab.title
    }));
    localStorage.setItem('clg-tabs', JSON.stringify(tabData));
    localStorage.setItem('clg-active-tab', activeTabId);
}

function loadSavedTabs() {
    const savedTabs = localStorage.getItem('clg-tabs');
    if (!savedTabs) return false;
    
    try {
        const tabData = JSON.parse(savedTabs);
        if (tabData.length === 0) return false;
        
        tabData.forEach((data, index) => {
            if (index === 0) {
                // First tab already created in createNewTab
                const tab = tabs[0];
                if (data.url) {
                    tab.url = data.url;
                    tab.title = data.title;
                    document.getElementById(`frame-${tab.id}`).src = scramjet.encodeUrl(data.url);
                }
            } else {
                // Create additional tabs
                const id = Date.now() + Math.random();
                tabs.push({ id, url: data.url, title: data.title, loading: false });
                const frame = document.createElement('iframe');
                frame.id = `frame-${id}`;
                if (data.url) {
                    frame.src = scramjet.encodeUrl(data.url);
                }
                document.getElementById('frame-container').appendChild(frame);
            }
        });
        
        renderTabs();
        return true;
    } catch (e) {
        return false;
    }
}

// Tab Dragging
let draggedTab = null;

function makeDraggable(tabEl, tabId) {
    tabEl.draggable = true;
    
    tabEl.addEventListener('dragstart', (e) => {
        draggedTab = tabId;
        tabEl.classList.add('dragging');
        e.dataTransfer.effectAllowed = 'move';
    });
    
    tabEl.addEventListener('dragend', () => {
        tabEl.classList.remove('dragging');
        document.querySelectorAll('.drag-over').forEach(el => el.classList.remove('drag-over'));
    });
    
    tabEl.addEventListener('dragover', (e) => {
        e.preventDefault();
        e.dataTransfer.dropEffect = 'move';
        if (draggedTab !== tabId) {
            tabEl.classList.add('drag-over');
        }
    });
    
    tabEl.addEventListener('dragleave', () => {
        tabEl.classList.remove('drag-over');
    });
    
    tabEl.addEventListener('drop', (e) => {
        e.preventDefault();
        if (draggedTab !== tabId) {
            const draggedIndex = tabs.findIndex(t => t.id === draggedTab);
            const targetIndex = tabs.findIndex(t => t.id === tabId);
            
            const [removed] = tabs.splice(draggedIndex, 1);
            tabs.splice(targetIndex, 0, removed);
            
            renderTabs();
            saveTabs();
        }
        tabEl.classList.remove('drag-over');
    });
}

// Loading Progress Bar
let progressInterval = null;

function showProgress() {
    const bar = document.getElementById('progress-bar');
    bar.classList.add('loading');
    let width = 0;
    
    clearInterval(progressInterval);
    bar.style.width = '0%';
    
    progressInterval = setInterval(() => {
        if (width < 90) {
            width += Math.random() * 30;
            if (width > 90) width = 90;
            bar.style.width = width + '%';
        }
    }, 200);
}

function completeProgress() {
    const bar = document.getElementById('progress-bar');
    bar.style.width = '100%';
    
    setTimeout(() => {
        bar.classList.remove('loading');
        bar.style.width = '0%';
        clearInterval(progressInterval);
    }, 300);
}

// Tab Preview on Hover
let previewTimeout = null;

function showTabPreview(tab, element) {
    clearTimeout(previewTimeout);
    
    previewTimeout = setTimeout(() => {
        const preview = document.getElementById('tab-preview');
        const rect = element.getBoundingClientRect();
        
        document.getElementById('preview-title').textContent = tab.title || 'New Tab';
        document.getElementById('preview-url').textContent = tab.url || 'about:blank';
        
        preview.style.left = rect.left + 'px';
        preview.style.top = (rect.bottom + 10) + 'px';
        preview.classList.add('show');
    }, 500);
}

function hideTabPreview() {
    clearTimeout(previewTimeout);
    document.getElementById('tab-preview').classList.remove('show');
}

// Keyboard Shortcuts Panel
function showShortcuts() {
    document.getElementById('shortcuts-panel').classList.add('show');
}

function hideShortcuts() {
    document.getElementById('shortcuts-panel').classList.remove('show');
}

// Homepage Widgets
function updateClock() {
    const now = new Date();
    const time = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
    const date = now.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' });
    
    const timeEl = document.getElementById('clock-time');
    const dateEl = document.getElementById('clock-date');
    
    if (timeEl) timeEl.textContent = time;
    if (dateEl) dateEl.textContent = date;
}

function quickSearch(query) {
    if (!query.trim()) return;
    document.getElementById('bar').value = query;
    nav();
}

function quickNav(url) {
    document.getElementById('bar').value = url;
    nav();
}

// Start clock update
setInterval(updateClock, 1000);
updateClock();


            
            // Login System
        const SITE_PASSWORD = "clifford2026"; // Change this to whatever you want
        let currentUser = null;

        // Check if already logged in
        if (localStorage.getItem('clg-auth') === 'true' && localStorage.getItem('clg-user')) {
            currentUser = localStorage.getItem('clg-user');
            document.getElementById('login-overlay').style.display = 'none';
            showWelcome();
        } else {
            // Block everything until login
            document.getElementById('login-overlay').style.display = 'flex';
        }

        function checkLogin() {
            const name = document.getElementById('login-name').value.trim();
            const password = document.getElementById('login-password').value;
            
            if (!name) {
                document.getElementById('login-error').textContent = 'Please enter your name.';
                document.getElementById('login-error').style.display = 'block';
                return;
            }
            
            if (password === SITE_PASSWORD) {
                // Success
                localStorage.setItem('clg-auth', 'true');
                localStorage.setItem('clg-user', name);
                currentUser = name;
                document.getElementById('login-overlay').style.display = 'none';
                showWelcome();
            } else {
                // Failed
                document.getElementById('login-error').textContent = 'Invalid password. Access denied.';
                document.getElementById('login-error').style.display = 'block';
                document.getElementById('login-password').value = '';
            }
        }

        function showWelcome() {
            setTimeout(() => {
                showNotification(`Welcome back, ${currentUser}! `);
            }, 500);
        }

        // Allow Enter key to submit
        document.addEventListener('DOMContentLoaded', () => {
            const loginInputs = document.querySelectorAll('.login-input');
            loginInputs.forEach(input => {
                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') checkLogin();
                });
            });
        });



        
        const wispUrls = {
            main: "wss://dywhmcwp1y96m.cloudfront.net/wisp/",
            backup2: "wss://wisp.rhw.one/",
            backup3: "wss://ixlmathlogin.ixl.best/wisp/",
            backup4: "wss://s0lace-j2np.onrender.com/wisp/",
            backup5: "wss://zyrongardeningalore.speedinsure.hk/wisp/",
            backup6: "wss://glseries.net/wisp/",
            backup7: "wss://gointospace.app/wisp/",
            backup8: "wss://dash.goip.de/wisp/"
        };
        
        let tabs = [];
        let activeTabId = null;
        let currentWisp = wispUrls.main;


        const connection = new BareMux.BareMuxConnection("/ixlmath/baremux/worker.js");
        function initProxy() { connection.setTransport("/ixlmath/libcurl/index.mjs", [{ websocket: currentWisp }]); }


        const { ScramjetController } = $scramjetLoadController();
        const scramjet = new ScramjetController({
            files: { all: "/ixlmath/scram/scramjet.all.js", wasm: "/ixlmath/scram/scramjet.wasm.wasm", sync: "/ixlmath/scram/scramjet.sync.js" },
            prefix: "/ixlmath/go/" 
        });


        function loadWispSettings() {
            const savedWispKey = localStorage.getItem('zyron-wisp-key');
            const savedCustomWisp = localStorage.getItem('zyron-custom-wisp');

            if (savedCustomWisp) {
                currentWisp = savedCustomWisp;
                document.getElementById('custom-wisp-url').value = savedCustomWisp;
                document.querySelectorAll('.active-wisp').forEach(btn => btn.classList.remove('active-wisp'));
            } else if (savedWispKey && wispUrls[savedWispKey]) {
                currentWisp = wispUrls[savedWispKey];
                document.querySelectorAll('.active-wisp').forEach(btn => btn.classList.remove('active-wisp'));
                const btn = document.getElementById(`wisp-${savedWispKey}`);
                if (btn) btn.classList.add('active-wisp');
            }
        }


        function setWisp(type) {
            currentWisp = wispUrls[type];
            localStorage.setItem('zyron-wisp-key', type);
            localStorage.removeItem('zyron-custom-wisp');
            document.querySelectorAll('.active-wisp').forEach(btn => btn.classList.remove('active-wisp'));
            if(document.getElementById(`wisp-${type}`)) document.getElementById(`wisp-${type}`).classList.add('active-wisp');
            initProxy();
        }


        function setCustomWisp() {
            const url = document.getElementById('custom-wisp-url').value.trim();
            if(!url.startsWith('ws')) {
                alert('failed to connect to custom wisp server url');
                return;
            }
            
            const testSocket = new WebSocket(url);
            const timeout = setTimeout(() => {
                testSocket.close();
                alert('failed to connect to custom wisp server url');
            }, 5000);

            testSocket.onopen = () => {
                clearTimeout(timeout);
                currentWisp = url;
                localStorage.setItem('zyron-custom-wisp', url);
                localStorage.removeItem('zyron-wisp-key');
                document.querySelectorAll('.active-wisp').forEach(btn => btn.classList.remove('active-wisp'));
                initProxy();
                testSocket.close();
                alert('successfully connected to custom wisp server');
            };

            testSocket.onerror = () => {
                clearTimeout(timeout);
                alert('failed to connect to custom wisp server url');
            };
        }


        async function checkWispPing(url, elementId) {
            const start = Date.now();
            try {
                const socket = new WebSocket(url);
                const timeout = setTimeout(() => { socket.close(); }, 3000);

                socket.onopen = () => {
                    clearTimeout(timeout);
                    const ping = Date.now() - start;
                    const el = document.getElementById(elementId);
                    if(el) el.innerText = ping + "ms";
                    socket.close();
                };
                socket.onerror = () => { 
                    const el = document.getElementById(elementId);
                    if(el) el.innerText = "ERR"; 
                    if (url === currentWisp) autoSwitch();
                };
            } catch (e) { 
                const el = document.getElementById(elementId);
                if(el) el.innerText = "ERR"; 
            }
        }


        function refreshAllPings() {
            Object.keys(wispUrls).forEach(key => {
                checkWispPing(wispUrls[key], `ping-${key}`);
            });
        }


        function autoSwitch() {
            for (const [key, url] of Object.entries(wispUrls)) {
                const el = document.getElementById(`ping-${key}`);
                const pingText = el ? el.innerText : "ERR";
                
                if (pingText !== "ERR" && pingText !== "--ms") {
                    setWisp(key);
                    const bar = document.getElementById('bar');
                    bar.placeholder = `AUTO-RECOVERY: Switched to ${key}`;
                    setTimeout(() => { bar.placeholder = "Search with Brave or enter URL"; }, 4000);
                    return;
                }
            }
        }


        setInterval(() => {
            checkWispPing(currentWisp, `ping-${localStorage.getItem('zyron-wisp-key') || 'main'}`);
        }, 10000);


        function showBH() { document.getElementById('loading-screen').style.display = 'flex'; document.getElementById('loading-screen').style.opacity = '1'; }
        function hideBH() { document.getElementById('loading-screen').style.opacity = '0'; setTimeout(() => document.getElementById('loading-screen').style.display = 'none', 500); }


        function createNewTab() {
    const id = Date.now() + Math.random();
    tabs.push({ id, url: '', title: 'New Tab', loading: false });
    const frame = document.createElement('iframe');
    frame.id = `frame-${id}`;
    frame.onload = () => { 
        const t = tabs.find(x => x.id === id); 
        if(t) { t.loading = false; renderTabs(); hideBH(); completeProgress(); } // ADD completeProgress()
    };
    document.getElementById('frame-container').appendChild(frame);
    switchTab(id);
}


        function switchTab(id) {
            activeTabId = id;
            document.querySelectorAll('iframe').forEach(f => f.classList.remove('active'));
            const frame = document.getElementById(`frame-${id}`);
            if(frame) frame.classList.add('active');
            const tab = tabs.find(t => t.id === id);
            document.getElementById('bar').value = tab.url || '';
            document.getElementById('new-tab-ui').style.display = frame.src ? 'none' : 'flex';
            renderTabs();
        }


        function renderTabs() {
    const strip = document.getElementById('tab-strip');
    const addBtn = strip.querySelector('.nav-button');
    strip.querySelectorAll('.tab').forEach(t => t.remove());
    tabs.forEach(tab => {
        const tabEl = document.createElement('div');
        tabEl.className = `tab ${tab.id === activeTabId ? 'active' : ''}`;
        tabEl.onclick = () => switchTab(tab.id);
        tabEl.innerHTML = `<span style="flex:1; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;">${tab.title}</span><button class="close-tab-btn" onclick="closeTab(event, ${tab.id})">√ó</button>`;
        
        // Add preview on hover
        tabEl.addEventListener('mouseenter', () => showTabPreview(tab, tabEl));
        tabEl.addEventListener('mouseleave', () => hideTabPreview());
        
        strip.insertBefore(tabEl, addBtn);
        makeDraggable(tabEl, tab.id);
    });
    updateHoverTargets();
}




        function nav() {
    const val = document.getElementById('bar').value.trim();
    if(!val) return;
    document.activeElement.blur(); 
    showBH();
    showProgress(); // ADD THIS
    let url = (val.includes('.') && !val.includes(' ')) ? (val.startsWith('http') ? val : 'https://' + val) : `https://search.brave.com/search?q=${encodeURIComponent(val)}`;
    const tab = tabs.find(t => t.id === activeTabId);
    tab.url = url; tab.title = url.split('/')[2] || url;
    document.getElementById(`frame-${activeTabId}`).src = scramjet.encodeUrl(url);
    document.getElementById('new-tab-ui').style.display = 'none';
    renderTabs();
    addToHistory(url, tab.title);
    saveTabs();
}




        function reloadPage() {
            const frame = document.getElementById(`frame-${activeTabId}`);
            if (!frame || !frame.src) return;
            showBH();
            try { frame.contentWindow.location.reload(); } catch (e) { frame.src = frame.src; }
        }


        setInterval(() => {
            if (!activeTabId) return;
            const frame = document.getElementById(`frame-${activeTabId}`);
            if (!frame || !frame.src) return;
            try {
                const path = frame.contentWindow.location.pathname;
                if (path.includes('/ixlmath/go/')) {
                    const encoded = path.split('/ixlmath/go/')[1];
                    const decoded = scramjet.decodeUrl(encoded);
                    const tab = tabs.find(t => t.id === activeTabId);
                    if (tab && tab.url !== decoded && document.activeElement !== document.getElementById('bar')) {
                        tab.url = decoded;
                        document.getElementById('bar').value = decoded;
                    }
                }
            } catch (e) {}
        }, 1000);


        function hideNavbar() { document.body.classList.add('nav-hidden'); hideSettings(); }
        function openAboutBlank() {
            const win = window.open('about:blank', '_blank');
            if (!win) return;
            const doc = win.document;
            const iframe = doc.createElement('iframe');
            doc.title = 'Classes';
            iframe.style = 'position:fixed;top:0;left:0;width:100%;height:100%;border:none;';
            iframe.src = window.location.href;
            doc.body.appendChild(iframe);
            window.location.replace('https://google.com'); 
        }


        function closeTab(e, id) { 
    e.stopPropagation(); 
    if(tabs.length === 1) return; 
    tabs = tabs.filter(t => t.id !== id); 
    document.getElementById(`frame-${id}`).remove(); 
    if(activeTabId === id) switchTab(tabs[0].id); 
    else renderTabs();
    saveTabs(); // ADD THIS LINE
}
        function showSettings() { document.getElementById('settings-modal').classList.add('show'); refreshAllPings(); }
        function hideSettings() { document.getElementById('settings-modal').classList.remove('show'); }
        function goBack() { try { document.getElementById(`frame-${activeTabId}`).contentWindow.history.back(); } catch(e){} }
        function goForward() { try { document.getElementById(`frame-${activeTabId}`).contentWindow.history.forward(); } catch(e){} }
        function toggleFullScreen() { if (!document.fullscreenElement) document.documentElement.requestFullscreen(); else document.exitFullscreen(); }
        function showGames() { 
    document.getElementById('games-modal').classList.add('show'); 
}

function hideGames() { 
    document.getElementById('games-modal').classList.remove('show'); 
}

function openGame(url) {
    const val = url;
    document.activeElement.blur(); 
    showBH();
    const tab = tabs.find(t => t.id === activeTabId);
    tab.url = url;
    tab.title = url.split('/')[2] || url;
    document.getElementById(`frame-${activeTabId}`).src = scramjet.encodeUrl(url);
    document.getElementById('new-tab-ui').style.display = 'none';
    renderTabs();
    hideGames();
}


       






        function updateHoverTargets() {
            const hoverTargets = document.querySelectorAll('button, a, input, .nav-button, .tab, .setting-btn, .close-tab-btn');
            hoverTargets.forEach(target => {
                target.removeEventListener('mouseenter', handleMouseEnter);
                target.removeEventListener('mouseleave', handleMouseLeave);
                target.addEventListener('mouseenter', handleMouseEnter);
                target.addEventListener('mouseleave', handleMouseLeave);
            });
        }

        function handleMouseEnter() {
            cursorDot.classList.add('hover');
        }

        function handleMouseLeave() {
            cursorDot.classList.remove('hover');
        }

        // Magnetic button effect
        document.querySelectorAll('.magnetic-btn').forEach(btn => {
            btn.addEventListener('mousemove', (e) => {
                const rect = btn.getBoundingClientRect();
                const x = ((e.clientX - rect.left) / rect.width) * 100;
                const y = ((e.clientY - rect.top) / rect.height) * 100;
                btn.style.setProperty('--mouse-x', x + '%');
                btn.style.setProperty('--mouse-y', y + '%');
            });
        });

        updateHoverTargets();

        document.addEventListener('click', (e) => {
            const ripple = document.createElement('div');
            ripple.className = 'ripple';
            ripple.style.left = e.clientX + 'px';
            ripple.style.top = e.clientY + 'px';
            ripple.style.transform = 'translate(-50%, -50%)';
            document.body.appendChild(ripple);
            setTimeout(() => ripple.remove(), 600);
        });
// Navbar toggle keybind (Ctrl + K)
let navbarHidden = false;

document.addEventListener('keydown', (e) => {
    // Check for Ctrl + K (or Cmd + K on Mac)
    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
        e.preventDefault(); // Prevent default browser behavior
        
        navbarHidden = !navbarHidden;
        
        if (navbarHidden) {
            document.body.classList.add('nav-hidden');
        } else {
            document.body.classList.remove('nav-hidden');
        }
        
        // Optional: Show a quick notification
        showNotification(navbarHidden ? 'Navigation Hidden (Ctrl+K to show)' : 'Navigation Visible');
    }
});

// Quick notification function
function showNotification(message) {
    const notification = document.createElement('div');
    notification.textContent = message;
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: var(--glass-bg);
        backdrop-filter: blur(20px);
        color: var(--accent);
        padding: 12px 20px;
        border-radius: 10px;
        border: 1px solid var(--accent);
        box-shadow: 0 0 20px rgba(0, 217, 255, 0.3);
        z-index: 100001;
        font-size: 12px;
        font-weight: 600;
        letter-spacing: 1px;
        animation: slideInRight 0.3s ease;
        pointer-events: none;
    `;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.style.animation = 'fadeOut 0.3s ease';
        setTimeout(() => notification.remove(), 300);
    }, 2000);
}



        window.onload = () => { 
    loadWispSettings();
    initProxy();
    scramjet.init();
    
    // Try to load saved tabs, if none create new tab
    if (!loadSavedTabs()) {
        createNewTab();
    }
    
    refreshAllPings();
    loadBookmarks();
    setTimeout(hideBH, 1000);
    
    // Custom Cursor Logic - Initialize after page loads
    const cursorDot = document.querySelector('.cursor-dot');
    let mouseX = 0, mouseY = 0;
    let dotX = 0, dotY = 0;

    document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
    });

    function animateCursor() {
        dotX += (mouseX - dotX) * 0.2;
        dotY += (mouseY - dotY) * 0.2;
        cursorDot.style.left = dotX + 'px';
        cursorDot.style.top = dotY + 'px';

        requestAnimationFrame(animateCursor);
    }
    animateCursor();
    
        // Cursor toggle keybind (Ctrl + C)
    let cursorVisible = true;

    document.addEventListener('keydown', (e) => {
        if ((e.ctrlKey || e.metaKey) && e.key === 'c') {
            e.preventDefault();
            
            cursorVisible = !cursorVisible;
            cursorDot.style.opacity = cursorVisible ? '1' : '0';
            
            showNotification(cursorVisible ? 'Custom Cursor Enabled' : 'Custom Cursor Hidden');
        }
    });
    
    // Global keyboard shortcuts
    document.addEventListener('keydown', (e) => {
        // Show shortcuts panel with "?"
        if (e.key === '?' && !e.ctrlKey && !e.altKey && !e.metaKey) {
            const activeEl = document.activeElement;
            if (activeEl.tagName !== 'INPUT' && activeEl.tagName !== 'TEXTAREA') {
                e.preventDefault();
                showShortcuts();
            }
        }
        
        // Close shortcuts with Escape
        if (e.key === 'Escape') {
            hideShortcuts();
        }
        
        // New tab (Ctrl+T)
        if ((e.ctrlKey || e.metaKey) && e.key === 't') {
            e.preventDefault();
            createNewTab();
        }
        
        // Close tab (Ctrl+W)
        if ((e.ctrlKey || e.metaKey) && e.key === 'w') {
            e.preventDefault();
            if (tabs.length > 1) {
                const event = { stopPropagation: () => {} };
                closeTab(event, activeTabId);
            }
        }
        
        // Reload (Ctrl+R)
        if ((e.ctrlKey || e.metaKey) && e.key === 'r') {
            e.preventDefault();
            reloadPage();
        }
        
        // Focus search bar (Ctrl+L)
        if ((e.ctrlKey || e.metaKey) && e.key === 'l') {
            e.preventDefault();
            document.getElementById('bar').focus();
            document.getElementById('bar').select();
        }
    });
};  // <-- THIS CLOSES window.onload


document.getElementById('bar').onkeydown = (e) => { if(e.key === 'Enter') nav(); };
    </script>
</body>
</html>























